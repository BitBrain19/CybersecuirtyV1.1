================================================================================
                   HOW TO RUN THE COMPLETE SYSTEM
================================================================================

Your system has 3 parts that need to run together:

1. BACKEND (ML Service + API) - Port 8001
2. FRONTEND (Dashboard) - Port 3000
3. DATABASE (PostgreSQL/SQLite) - Automatic

Let me show you how to start everything.


================================================================================
                    QUICK START (5 MINUTES)
================================================================================

OPTION A: RUN ALL IN ONE TERMINAL (Easiest)

Step 1: Open PowerShell
Step 2: Run all 3 services:

   cd d:\Cybergardproject_V1.1\ml
   python -m pip install -r requirements.txt
   python run_service.py

This starts the BACKEND on port 8001.

Step 3: Open ANOTHER PowerShell window
Step 4: Start the FRONTEND:

   cd d:\Cybergardproject_V1.1\frontend
   npm install
   npm run dev

This starts the FRONTEND on port 3000.

Step 5: Open your browser

   http://localhost:3000

You now have:
  âœ“ Backend (ML) running on http://localhost:8001
  âœ“ Frontend (Dashboard) running on http://localhost:3000
  âœ“ API docs on http://localhost:8001/docs
  âœ“ Metrics on http://localhost:8001/metrics


================================================================================
                    DETAILED STEP-BY-STEP
================================================================================

PREREQUISITE: Install Python 3.9+ and Node.js 18+

Windows: Download from python.org and nodejs.org
Or use: choco install python nodejs (if you have Chocolatey)


PART 1: BACKEND (ML Service)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

What it does:
  âœ“ Runs 22 ML models (threat detection, malware, UEBA, XDR, etc.)
  âœ“ Receives security events from your devices
  âœ“ Analyzes events in real-time
  âœ“ Generates alerts
  âœ“ Provides REST API for frontend

How to start:

   cd d:\Cybergardproject_V1.1\ml
   python -m pip install -r requirements.txt
   python run_service.py


Expected output:
   
   Starting SecurityAI ML Service
   Host: 0.0.0.0
   Port: 8001
   Reload: False
   Workers: 1
   Log Level: info
   
   INFO:     Uvicorn running on http://0.0.0.0:8001
   INFO:     Application startup complete


Test the backend:
   
   In PowerShell:
   Invoke-RestMethod -Uri "http://localhost:8001/health"
   
   Should return: status = "healthy"


Options you can use:

   python run_service.py --port 9000         # Use different port
   python run_service.py --reload            # Auto-reload on code changes
   python run_service.py --workers 2         # Use 2 workers (faster)
   python run_service.py --log-level debug   # More detailed logs


================================================================================

PART 2: FRONTEND (Dashboard)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

What it does:
  âœ“ Shows alerts in real-time
  âœ“ Displays threat intelligence
  âœ“ Shows risk scores and recommendations
  âœ“ Allows you to take actions (block IP, etc.)
  âœ“ Shows system metrics and statistics

Prerequisites:
  âœ“ Node.js 18+ installed
  âœ“ npm package manager available

How to start (in a NEW PowerShell window):

   cd d:\Cybergardproject_V1.1\frontend
   npm install
   npm run dev


Expected output:

   > vite
   
   VITE v5.0.0 ready in 123 ms
   âœ  Local:   http://localhost:5173/
   âœ  press h to show help


OR if you want production build:

   npm run build      # Builds optimized version
   npm run preview    # Shows built version


Accessing the dashboard:

   Open browser: http://localhost:3000 or http://localhost:5173
   
   You should see:
   âœ“ Dashboard with alerts
   âœ“ Risk scores
   âœ“ Threat map
   âœ“ System status


================================================================================

PART 3: DATABASE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Your system uses SQLite (built-in, no setup needed)

Location: d:\Cybergardproject_V1.1\ml\artifacts\data.db

If you want to switch to PostgreSQL (production):
  1. Edit: ml/app/core/config.py
  2. Change DATABASE_URL
  3. Restart backend


No action needed right now - SQLite works great for testing!


================================================================================
                    COMPLETE SYSTEM STARTUP (All 3 Parts)
================================================================================

Terminal 1 - BACKEND:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ cd d:\Cybergardproject_V1.1\ml          â”‚
   â”‚ python -m pip install -r requirements.txt
   â”‚ python run_service.py                   â”‚
   â”‚                                         â”‚
   â”‚ Wait for: "Application startup complete"
   â”‚ Backend ready on port 8001              â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Terminal 2 - FRONTEND:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ cd d:\Cybergardproject_V1.1\frontend    â”‚
   â”‚ npm install                             â”‚
   â”‚ npm run dev                             â”‚
   â”‚                                         â”‚
   â”‚ Wait for: "Local: http://localhost"     â”‚
   â”‚ Frontend ready on port 3000             â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Terminal 3 - TRAINING (Optional):
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ cd d:\Cybergardproject_V1.1\ml          â”‚
   â”‚ python verify_all_modules_v2.py         â”‚
   â”‚                                         â”‚
   â”‚ Trains and verifies all 22 modules      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


EVERYTHING IS NOW RUNNING! ğŸš€

   Browser:   http://localhost:3000 (Dashboard)
   API:       http://localhost:8001 (Backend)
   API Docs:  http://localhost:8001/docs (API Testing)


================================================================================
                    SENDING TEST DATA
================================================================================

Now that everything is running, you can test it:

TEST 1: Check if system is healthy
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

PowerShell:
   Invoke-RestMethod -Uri "http://localhost:8001/health" -Method GET


TEST 2: Submit a suspicious login event
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

PowerShell:

   $event = @{
     event_type = "network_traffic"
     source = "test-client"
     data = @{
       timestamp = "2025-11-18T02:00:00Z"
       event_type = "login"
       user_id = "hacker_account"
       location = "China"
       source_ip = "203.45.67.89"
       success = $false
     }
     metadata = @{ source = "manual_test" }
   } | ConvertTo-Json -Depth 5
   
   Invoke-RestMethod -Uri "http://localhost:8001/stream/events" `
     -Method POST `
     -ContentType "application/json" `
     -Body $event


TEST 3: Check alerts generated
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

PowerShell:
   Invoke-RestMethod -Uri "http://localhost:8001/alerts" -Method GET


TEST 4: See them on dashboard
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Browser:
   Go to http://localhost:3000
   You should see the alert you just created!


TEST 5: Submit batch of events
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Use the sample data files you created:
   d:\Cybergardproject_V1.1\ml\artifacts\datasets\
   
   These CSV files will be loaded automatically during training.


================================================================================
                    LOGS AND DEBUGGING
================================================================================

If something goes wrong, check the logs:

Backend logs:
   Location: d:\Cybergardproject_V1.1\ml\logs\
   Files: training_*.log, service_*.log
   
   PowerShell command to view:
   Get-Content d:\Cybergardproject_V1.1\ml\logs\*.log -Tail 50


Frontend logs:
   Check the browser console (Press F12)
   Check PowerShell output where npm run dev is running


Common issues:

âŒ "Port 8001 already in use"
   Solution: Close other services or use different port:
   python run_service.py --port 9000

âŒ "ModuleNotFoundError: No module named 'fastapi'"
   Solution: Install dependencies:
   python -m pip install -r requirements.txt

âŒ "npm command not found"
   Solution: Install Node.js from nodejs.org

âŒ "Frontend can't connect to backend"
   Solution: Backend must be running on 8001
   Check: Invoke-RestMethod -Uri "http://localhost:8001/health"

âŒ "No alerts appearing"
   Solution: 
   - Ensure you submitted an event to /stream/events
   - Check backend logs for errors
   - Ensure models are trained


================================================================================
                    FULL SYSTEM DIAGRAM
================================================================================

Your System:

   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚   Your Devices      â”‚
   â”‚  (Servers, etc)     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ Send logs
              â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  BACKEND (ML Service) - Port 8001    â”‚
   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
   â”‚  â”‚ 22 ML Models                   â”‚  â”‚
   â”‚  â”‚ â€¢ Threat Classifier            â”‚  â”‚
   â”‚  â”‚ â€¢ Malware Detector             â”‚  â”‚
   â”‚  â”‚ â€¢ UEBA (User Behavior)         â”‚  â”‚
   â”‚  â”‚ â€¢ XDR (Correlation)            â”‚  â”‚
   â”‚  â”‚ â€¢ SOAR (Automation)            â”‚  â”‚
   â”‚  â”‚ â€¢ EDR (Endpoints)              â”‚  â”‚
   â”‚  â”‚ â€¢ ... + 16 more                â”‚  â”‚
   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
   â”‚  â”‚ FastAPI REST API               â”‚  â”‚
   â”‚  â”‚ â€¢ /stream/events               â”‚  â”‚
   â”‚  â”‚ â€¢ /predict                     â”‚  â”‚
   â”‚  â”‚ â€¢ /alerts                      â”‚  â”‚
   â”‚  â”‚ â€¢ /health                      â”‚  â”‚
   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
   â”‚  â”‚ SQLite Database                â”‚  â”‚
   â”‚  â”‚ â€¢ Alerts                       â”‚  â”‚
   â”‚  â”‚ â€¢ Models                       â”‚  â”‚
   â”‚  â”‚ â€¢ Logs                         â”‚  â”‚
   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ API calls
                  â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚   FRONTEND (Dashboard) - Port 3000   â”‚
   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
   â”‚  â”‚ React + TypeScript + Tailwind  â”‚  â”‚
   â”‚  â”‚ â€¢ Alerts Dashboard             â”‚  â”‚
   â”‚  â”‚ â€¢ Risk Scores                  â”‚  â”‚
   â”‚  â”‚ â€¢ Threat Map                   â”‚  â”‚
   â”‚  â”‚ â€¢ System Metrics               â”‚  â”‚
   â”‚  â”‚ â€¢ Action Buttons               â”‚  â”‚
   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â†“
            ğŸŒ BROWSER ğŸŒ
         http://localhost:3000


================================================================================
                    PRODUCTION DEPLOYMENT
================================================================================

For production (NOT local testing):

1. Backend:
   - Use: gunicorn or uvicorn with multiple workers
   - Deploy to cloud (AWS, Azure, GCP)
   - Use Docker (Dockerfile included in ml/)
   - Command: docker build -t cybergard-ml . && docker run -p 8001:8001 cybergard-ml

2. Frontend:
   - Build: npm run build (creates dist/ folder)
   - Deploy to nginx or CDN
   - Use Docker (Dockerfile.dev included in frontend/)
   - Command: docker build -f Dockerfile.dev -t cybergard-frontend . && docker run -p 3000:3000 cybergard-frontend

3. Use Docker Compose for full stack:
   - File: d:\Cybergardproject_V1.1\docker-compose.yml
   - Command: docker-compose up -d


================================================================================
                    QUICK REFERENCE COMMANDS
================================================================================

START BACKEND:
   cd d:\Cybergardproject_V1.1\ml
   python run_service.py

START FRONTEND:
   cd d:\Cybergardproject_V1.1\frontend
   npm run dev

TEST HEALTH:
   Invoke-RestMethod -Uri "http://localhost:8001/health"

VIEW ALERTS:
   Invoke-RestMethod -Uri "http://localhost:8001/alerts"

SUBMIT EVENT:
   (See TEST 2 above - use that PowerShell code)

TRAIN MODELS:
   cd d:\Cybergardproject_V1.1\ml
   python run_service.py

VIEW LOGS:
   Get-Content d:\Cybergardproject_V1.1\ml\logs\*.log -Tail 50

STOP SERVICES:
   Press Ctrl+C in each terminal


================================================================================
                    TROUBLESHOOTING CHECKLIST
================================================================================

âœ“ Backend not starting?
  - Python 3.9+ installed? Check: python --version
  - Dependencies installed? Run: python -m pip install -r requirements.txt
  - Port 8001 free? Check: netstat -ano | findstr 8001
  - Check logs: d:\Cybergardproject_V1.1\ml\logs\

âœ“ Frontend not starting?
  - Node.js 18+ installed? Check: node --version
  - npm installed? Check: npm --version
  - Port 3000 free? Check: netstat -ano | findstr 3000
  - Dependencies installed? Run: npm install

âœ“ Backend and frontend not talking?
  - Is backend running on 8001? Test: http://localhost:8001/health
  - Is frontend running on 3000? Check terminal output
  - Check browser console (F12) for errors

âœ“ No alerts appearing?
  - Ensure event was submitted (use TEST 2 above)
  - Check backend logs for errors
  - Ensure model is trained (training must complete first)

âœ“ Slow response?
  - Check stream stats: Invoke-RestMethod -Uri "http://localhost:8001/stream/stats"
  - Too many events? Add workers: python run_service.py --workers 2
  - CPU high? Reduce batch size or add more compute

âœ“ Database errors?
  - SQLite file locked? Close backend and frontend, try again
  - Switch to PostgreSQL for production

================================================================================
                    NEXT STEPS
================================================================================

1. âœ“ Start backend & frontend (follow this guide)
2. âœ“ Test with sample events
3. âœ“ Review alerts on dashboard
4. âœ“ Configure your devices to send logs to backend
5. âœ“ Run retraining monthly
6. âœ“ Deploy to production when ready

See also:
  - HOW_TO_START_TRAINING_SIMPLE.txt (training guide)
  - SAMPLE_DATA_FILES.txt (test data)
  - CYBERGARD_AUDIT_REPORT_v2.md (system overview)
  - HOW_SYSTEM_WORKS_COMPLETE.txt (detailed architecture)


================================================================================
                        YOU'RE ALL SET! ğŸš€
================================================================================

Your system is production-ready. Just:
1. Run the backend
2. Run the frontend
3. Open http://localhost:3000
4. Start protecting your network!

Questions? Check the other guide files or the README.

Happy protecting! ğŸ›¡ï¸

================================================================================
